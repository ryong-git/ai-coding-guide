export default function DebuggingPage() {
  return (
    <div className="prose prose-lg max-w-none dark:prose-invert">
      <h1>8.3 AI ë””ë²„ê¹…</h1>
      
      <p className="text-xl text-gray-600 dark:text-gray-300">
        AI ë„êµ¬ë¥¼ í™œìš©í•œ ì²´ê³„ì ì´ê³  íš¨ìœ¨ì ì¸ ë””ë²„ê¹… ì „ëµê³¼ ê³ ê¸‰ ë¬¸ì œ í•´ê²° ë°©ë²•ë¡ 
      </p>

      <h2>ğŸ” AI ë””ë²„ê¹…ì˜ í˜ì‹ </h2>

      <p>
        ì „í†µì ì¸ ë””ë²„ê¹…ì€ ì‹œê°„ì´ ë§ì´ ê±¸ë¦¬ê³  ë•Œë¡œëŠ” ì§ê´€ì— ì˜ì¡´í•˜ëŠ” ê²½ìš°ê°€ ë§ì•˜ìŠµë‹ˆë‹¤. 
        í•˜ì§€ë§Œ <strong>AI ê¸°ë°˜ ë””ë²„ê¹…</strong>ì€ íŒ¨í„´ ì¸ì‹ê³¼ ëŒ€ëŸ‰ ë°ì´í„° ë¶„ì„ì„ í†µí•´ 
        ë¬¸ì œì˜ ê·¼ë³¸ ì›ì¸ì„ ë¹ ë¥´ê²Œ ì‹ë³„í•˜ê³  í•´ê²°ì±…ì„ ì œì•ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      </p>

      <p>
        ë² ìŠ¤í•€ê¸€ë¡œë²Œê³¼ ê°™ì€ MSP í™˜ê²½ì—ì„œëŠ” ë‹¤ì–‘í•œ ê³ ê°ì‚¬ì˜ ì‹œìŠ¤í…œì—ì„œ ë°œìƒí•˜ëŠ” 
        ë³µì¡í•œ ë¬¸ì œë“¤ì„ ì‹ ì†í•˜ê²Œ í•´ê²°í•´ì•¼ í•˜ë¯€ë¡œ, 
        AIì˜ ë„ì›€ìœ¼ë¡œ <strong>ë””ë²„ê¹… íš¨ìœ¨ì„±</strong>ì„ ê·¹ëŒ€í™”í•˜ëŠ” ê²ƒì´ í•„ìˆ˜ì ì…ë‹ˆë‹¤.
      </p>

      <div className="bg-purple-50 dark:bg-purple-900/20 border-l-4 border-purple-500 p-6 my-6">
        <h3 className="text-lg font-semibold mb-2">ğŸš€ AI ë””ë²„ê¹…ì˜ ì¥ì </h3>
        <ul className="mb-0">
          <li><strong>íŒ¨í„´ ì¸ì‹</strong>: ìœ ì‚¬í•œ ê³¼ê±° ì˜¤ë¥˜ ì‚¬ë¡€ë¥¼ ë¹ ë¥´ê²Œ ë§¤ì¹­</li>
          <li><strong>ê·¼ë³¸ ì›ì¸ ë¶„ì„</strong>: ë³µì¡í•œ ì—°ì‡„ ë°˜ì‘ì˜ ì‹œì‘ì  ì¶”ì </li>
          <li><strong>ë‹¤ì¤‘ ê°€ì„¤ ìƒì„±</strong>: ë™ì‹œì— ì—¬ëŸ¬ ì›ì¸ ê°€ëŠ¥ì„± íƒìƒ‰</li>
          <li><strong>ìë™ ìˆ˜ì • ì œì•ˆ</strong>: ê²€ì¦ëœ í•´ê²°ì±…ì„ ì¦‰ì‹œ ì œê³µ</li>
        </ul>
      </div>

      <h2>ğŸ§  ì§€ëŠ¥í˜• ì˜¤ë¥˜ ë¶„ì„</h2>

      <h3>AI ì˜¤ë¥˜ ë¶„ë¥˜ ì‹œìŠ¤í…œ</h3>
      <div className="bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 p-6">
        <h4 className="font-semibold mb-3">ğŸ“Š ìŠ¤ë§ˆíŠ¸ ì—ëŸ¬ ì¹´í…Œê³ ë¼ì´ì œì´ì…˜</h4>
        
        <p className="text-sm text-gray-700 dark:text-gray-300 mb-4">
          AIê°€ ì˜¤ë¥˜ ë©”ì‹œì§€ì™€ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ë¥¼ ë¶„ì„í•˜ì—¬ 
          ìë™ìœ¼ë¡œ ë¬¸ì œë¥¼ ë¶„ë¥˜í•˜ê³  ìš°ì„ ìˆœìœ„ë¥¼ ë§¤ê¸°ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.
        </p>

        <div className="bg-gray-900 text-gray-100 rounded p-4 text-sm font-mono overflow-x-auto">
          <div className="text-green-400"># AI ì˜¤ë¥˜ ë¶„ì„ í”„ë¡¬í”„íŠ¸</div>
          <div className="text-white mt-2">{`ë‹¹ì‹ ì€ ì „ë¬¸ ë””ë²„ê¹… ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤. ë‹¤ìŒ ì˜¤ë¥˜ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ë¶„ì„í•´ì£¼ì„¸ìš”.

**ì˜¤ë¥˜ ì •ë³´:**
- íƒ€ì„ìŠ¤íƒ¬í”„: \${timestamp}
- í™˜ê²½: \${environment} (dev/staging/prod)
- ì‚¬ìš©ì ìˆ˜: \${activeUsers}ëª…
- ì¬í˜„ìœ¨: \${frequency}% (ì§€ë‚œ 24ì‹œê°„)

**ì—ëŸ¬ ë¡œê·¸:**
\`\`\`
\${errorLog}
\`\`\`

**ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤:**
\`\`\`
\${stackTrace}
\`\`\`

**ì‹œìŠ¤í…œ ì»¨í…ìŠ¤íŠ¸:**
- Node.js: \${nodeVersion}
- Framework: \${framework}
- Database: \${database}
- Dependencies: \${dependencies}

**ë¶„ì„ ìš”ì²­:**
1. **ì‹¬ê°ë„ í‰ê°€** (Critical/High/Medium/Low) + ê·¼ê±°
2. **ì˜¤ë¥˜ ì¹´í…Œê³ ë¦¬** (Memory/Network/Logic/Data/UI ë“±)
3. **ê·¼ë³¸ ì›ì¸ ë¶„ì„** (5-Why ë°©ì‹)
4. **ì˜í–¥ ë²”ìœ„** (ê³ ê°/ê¸°ëŠ¥/ì„±ëŠ¥)
5. **ì¦‰ì‹œ ì¡°ì¹˜** (Hot-fix ê°€ëŠ¥ ì—¬ë¶€)
6. **ì˜êµ¬ í•´ê²°ì±…** (3ê°€ì§€ ì˜µì…˜ + ê¶Œì¥ì•ˆ)
7. **ì˜ˆë°©ì±…** (í–¥í›„ ì¬ë°œ ë°©ì§€)

**ì‘ë‹µ í˜•ì‹:**
- ìš°ì„ ìˆœìœ„ë³„ ì •ë ¬
- ì‹¤í–‰ ê°€ëŠ¥í•œ ì½”ë“œ ì˜ˆì œ
- ê²€ì¦ ë°©ë²• í¬í•¨
- ì˜ˆìƒ í•´ê²° ì‹œê°„`}</div>
        </div>
      </div>

      <h3>ì‹¤ì‹œê°„ ì˜¤ë¥˜ íŒ¨í„´ ë¶„ì„</h3>
      <div className="space-y-4">
        <div className="bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500 p-4">
          <h4 className="font-semibold">âš¡ AI ê¸°ë°˜ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§</h4>
          
          <div className="bg-gray-900 text-gray-100 rounded p-4 text-sm font-mono overflow-x-auto">
            <div className="text-green-400">// AI ìƒì„±: ì§€ëŠ¥í˜• ì—ëŸ¬ íŠ¸ë˜í‚¹ ì‹œìŠ¤í…œ</div>
            <div className="text-white mt-2">{`import { useEffect, useState, useCallback } from 'react';

// AI ê¸°ë°˜ ì—ëŸ¬ íŒ¨í„´ ë¶„ì„ê¸°
class AIErrorAnalyzer {
  private errorHistory: Map<string, ErrorPattern[]> = new Map();
  private aiApiEndpoint = '/api/ai/analyze-error';

  constructor() {
    this.setupGlobalErrorHandler();
  }

  private setupGlobalErrorHandler() {
    // React Error Boundary í†µí•©
    window.addEventListener('unhandledrejection', (event) => {
      this.analyzeError({
        type: 'unhandledPromise',
        error: event.reason,
        timestamp: Date.now(),
        context: this.getContext()
      });
    });

    // ì „ì—­ ì—ëŸ¬ í•¸ë“¤ëŸ¬
    window.addEventListener('error', (event) => {
      this.analyzeError({
        type: 'runtime',
        error: event.error,
        message: event.message,
        filename: event.filename,
        lineno: event.lineno,
        timestamp: Date.now(),
        context: this.getContext()
      });
    });
  }

  // AI ë¶„ì„ ìš”ì²­
  private async analyzeError(errorData: ErrorData) {
    try {
      const response = await fetch(this.aiApiEndpoint, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          error: errorData,
          history: this.getRecentErrors(),
          systemInfo: this.getSystemInfo()
        })
      });

      const analysis = await response.json();
      this.processAIAnalysis(errorData, analysis);
      
    } catch (aiError) {
      console.warn('AI ë¶„ì„ ì‹¤íŒ¨, ê¸°ë³¸ ì²˜ë¦¬ë¡œ ì „í™˜:', aiError);
      this.fallbackAnalysis(errorData);
    }
  }

  // AI ë¶„ì„ ê²°ê³¼ ì²˜ë¦¬
  private processAIAnalysis(errorData: ErrorData, analysis: AIAnalysis) {
    const pattern: ErrorPattern = {
      ...errorData,
      severity: analysis.severity,
      category: analysis.category,
      rootCause: analysis.rootCause,
      solutions: analysis.solutions,
      prevention: analysis.prevention,
      similarity: analysis.similarityScore
    };

    // íŒ¨í„´ ì €ì¥
    const errorKey = this.generateErrorKey(errorData);
    if (!this.errorHistory.has(errorKey)) {
      this.errorHistory.set(errorKey, []);
    }
    this.errorHistory.get(errorKey)!.push(pattern);

    // ì‹¬ê°ë„ì— ë”°ë¥¸ ìë™ ì•¡ì…˜
    this.executeAutoActions(pattern);
    
    // ê°œë°œíŒ€ ì•Œë¦¼
    this.notifyDevelopers(pattern);
  }

  // AI ì œì•ˆ ê¸°ë°˜ ìë™ ì•¡ì…˜
  private executeAutoActions(pattern: ErrorPattern) {
    switch (pattern.severity) {
      case 'CRITICAL':
        // ì¦‰ì‹œ ì•Œë¦¼ + ìë™ ë¡¤ë°± ê³ ë ¤
        this.sendImmediateAlert(pattern);
        if (pattern.solutions.some(s => s.type === 'rollback')) {
          this.suggestRollback(pattern);
        }
        break;
        
      case 'HIGH':
        // ê°œë°œíŒ€ ì•Œë¦¼ + ì„ì‹œ ì¡°ì¹˜
        this.notifyTeam(pattern);
        if (pattern.solutions.some(s => s.type === 'hotfix')) {
          this.prepareHotfix(pattern);
        }
        break;
        
      case 'MEDIUM':
        // ë°±ë¡œê·¸ì— ì¶”ê°€
        this.addToBacklog(pattern);
        break;
    }
  }

  private getContext(): SystemContext {
    return {
      url: window.location.href,
      userAgent: navigator.userAgent,
      timestamp: Date.now(),
      userId: getCurrentUser()?.id,
      sessionId: getSessionId(),
      buildVersion: process.env.REACT_APP_VERSION,
      // MSP íŠ¹í™” ì»¨í…ìŠ¤íŠ¸
      customerId: getCurrentCustomer()?.id,
      currentDashboard: getCurrentDashboardType(),
      activeResources: getActiveResourceCount()
    };
  }
}

// React Hookìœ¼ë¡œ AI ë””ë²„ê¹… ê¸°ëŠ¥ ì œê³µ
export const useAIDebugging = () => {
  const [analyzer] = useState(() => new AIErrorAnalyzer());
  const [errors, setErrors] = useState<ErrorPattern[]>([]);
  const [suggestions, setSuggestions] = useState<Suggestion[]>([]);

  // ìˆ˜ë™ ì˜¤ë¥˜ ë¶„ì„ ìš”ì²­
  const analyzeError = useCallback(async (error: Error, context?: any) => {
    const errorData = {
      type: 'manual',
      error,
      context: context || {},
      timestamp: Date.now()
    };
    
    await analyzer.analyzeError(errorData);
  }, [analyzer]);

  // ì‹¤ì‹œê°„ ì œì•ˆì‚¬í•­ ì—…ë°ì´íŠ¸
  useEffect(() => {
    const handleSuggestions = (event: CustomEvent) => {
      setSuggestions(prev => [...prev, event.detail]);
    };

    window.addEventListener('ai-suggestion', handleSuggestions);
    return () => window.removeEventListener('ai-suggestion', handleSuggestions);
  }, []);

  return {
    analyzeError,
    errors,
    suggestions,
    clearSuggestions: () => setSuggestions([])
  };
};`}</div>
          </div>
        </div>

        <div className="bg-orange-50 dark:bg-orange-900/20 border-l-4 border-orange-500 p-4">
          <h4 className="font-semibold">ğŸ”® ì˜ˆì¸¡ì  ì˜¤ë¥˜ ê°ì§€</h4>
          
          <p className="text-sm text-gray-700 dark:text-gray-300 mb-3">
            AIê°€ ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ì„ ë¶„ì„í•˜ì—¬ ì˜¤ë¥˜ ë°œìƒ ì „ì— ê²½ê³ ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
          </p>

          <div className="bg-gray-900 text-gray-100 rounded p-4 text-sm font-mono overflow-x-auto">
            <div className="text-green-400">// AI ìƒì„±: ì˜ˆì¸¡ì  ì˜¤ë¥˜ ê°ì§€ ì‹œìŠ¤í…œ</div>
            <div className="text-white mt-2">{`// ì‹œìŠ¤í…œ í—¬ìŠ¤ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
class PredictiveErrorDetector {
  private metrics: HealthMetrics = {
    memory: [],
    cpu: [],
    networkLatency: [],
    errorRate: [],
    responseTime: []
  };

  private aiModelEndpoint = '/api/ai/predict-issues';

  // ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
  startMonitoring() {
    setInterval(() => {
      this.collectMetrics();
      this.analyzeHealth();
    }, 30000); // 30ì´ˆë§ˆë‹¤ ë¶„ì„
  }

  private async analyzeHealth() {
    const healthData = {
      current: this.getCurrentMetrics(),
      trends: this.calculateTrends(),
      patterns: this.identifyPatterns(),
      timestamp: Date.now()
    };

    try {
      const prediction = await fetch(this.aiModelEndpoint, {
        method: 'POST',
        body: JSON.stringify(healthData)
      }).then(r => r.json());

      if (prediction.riskScore > 0.7) {
        this.alertPotentialIssues(prediction);
      }

      if (prediction.riskScore > 0.9) {
        this.initiatePreventiveMeasures(prediction);
      }
    } catch (error) {
      console.error('ì˜ˆì¸¡ ë¶„ì„ ì‹¤íŒ¨:', error);
    }
  }

  // AI ì˜ˆì¸¡ ê¸°ë°˜ ì‚¬ì „ ëŒ€ì‘
  private initiatePreventiveMeasures(prediction: Prediction) {
    const measures = prediction.preventiveMeasures || [];
    
    measures.forEach(measure => {
      switch (measure.type) {
        case 'SCALE_OUT':
          this.requestAutoScaling(measure.parameters);
          break;
        case 'RESTART_SERVICE':
          this.scheduleServiceRestart(measure.target);
          break;
        case 'CLEAR_CACHE':
          this.clearApplicationCache();
          break;
        case 'REDUCE_LOAD':
          this.enableRateLimiting(measure.parameters);
          break;
      }
    });
  }
}

// React Componentì—ì„œ ì˜ˆì¸¡ì  ëª¨ë‹ˆí„°ë§ ì‚¬ìš©
export const PredictiveMonitoring = () => {
  const [predictions, setPredictions] = useState<Prediction[]>([]);
  const [isHealthy, setIsHealthy] = useState(true);

  useEffect(() => {
    const detector = new PredictiveErrorDetector();
    
    detector.onPrediction = (prediction) => {
      setPredictions(prev => [...prev, prediction]);
      setIsHealthy(prediction.riskScore < 0.5);
    };
    
    detector.startMonitoring();
    
    return () => detector.stopMonitoring();
  }, []);

  return (
    <div className="predictive-monitoring">
      <div className={\`health-indicator \${isHealthy ? 'healthy' : 'warning'}\`}>
        System Health: {isHealthy ? 'âœ… Good' : 'âš ï¸ At Risk'}
      </div>
      
      {predictions.map(prediction => (
        <div key={prediction.id} className="prediction-alert">
          <h4>ğŸ”® AI ì˜ˆì¸¡ ì•Œë¦¼</h4>
          <p>ìœ„í—˜ë„: {(prediction.riskScore * 100).toFixed(1)}%</p>
          <p>ì˜ˆìƒ ì´ìŠˆ: {prediction.predictedIssue}</p>
          <p>ë°œìƒ ì˜ˆì •: {prediction.estimatedTime}</p>
          
          {prediction.preventiveMeasures?.length > 0 && (
            <div className="suggested-actions">
              <strong>ê¶Œì¥ ì¡°ì¹˜:</strong>
              <ul>
                {prediction.preventiveMeasures.map((measure, idx) => (
                  <li key={idx}>{measure.description}</li>
                ))}
              </ul>
            </div>
          )}
        </div>
      ))}
    </div>
  );
};`}</div>
          </div>
        </div>
      </div>

      <h2>ğŸ› ï¸ AI ê¸°ë°˜ ìë™ ìˆ˜ì •</h2>

      <h3>ì½”ë“œ ìˆ˜ì • ì œì•ˆ ì‹œìŠ¤í…œ</h3>
      <div className="bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-500 p-6">
        <h4 className="font-semibold mb-3">ğŸ”§ ìŠ¤ë§ˆíŠ¸ ì½”ë“œ ë¦¬í˜ì–´</h4>
        
        <p className="text-sm text-gray-700 dark:text-gray-300 mb-4">
          AIê°€ ì˜¤ë¥˜ë¥¼ ë¶„ì„í•˜ê³  ìë™ìœ¼ë¡œ ìˆ˜ì • ì½”ë“œë¥¼ ìƒì„±í•˜ì—¬ 
          ê°œë°œìì˜ ê²€í†  í•˜ì— ì ìš©í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.
        </p>

        <div className="grid md:grid-cols-2 gap-4">
          <div className="bg-white dark:bg-gray-900 p-4 rounded border">
            <h6 className="font-semibold text-red-600 dark:text-red-400 mb-2">âŒ ì˜¤ë¥˜ê°€ ë°œìƒí•œ ì½”ë“œ</h6>
            <div className="bg-gray-100 dark:bg-gray-800 p-3 rounded text-xs font-mono">
              {`// MSP ê³ ê° ë°ì´í„° ì²˜ë¦¬ ì¤‘ ë©”ëª¨ë¦¬ ì˜¤ë²„í”Œë¡œìš°
const processCustomerData = async (customers) => {
  const results = [];
  
  // ë¬¸ì œ: ëª¨ë“  ê³ ê° ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ë¡œë“œ
  for (const customer of customers) {
    const resources = await fetchAllResources(customer.id);
    const metrics = await calculateMetrics(resources);
    
    // ë©”ëª¨ë¦¬ ëˆ„ì ìœ¼ë¡œ ì¸í•œ ì˜¤ë¥˜ ë°œìƒ
    results.push({
      customer,
      resources,
      metrics,
      report: generateDetailedReport(resources, metrics)
    });
  }
  
  return results;
};`}
            </div>
          </div>
          
          <div className="bg-white dark:bg-gray-900 p-4 rounded border">
            <h6 className="font-semibold text-green-600 dark:text-green-400 mb-2">âœ… AIê°€ ì œì•ˆí•œ ìˆ˜ì • ì½”ë“œ</h6>
            <div className="bg-gray-100 dark:bg-gray-800 p-3 rounded text-xs font-mono">
              {`// AI ìˆ˜ì •: ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ + ë°°ì¹˜ ë‹¨ìœ„ ì²˜ë¦¬
const processCustomerData = async function* (customers) {
  const batchSize = 10; // AI ì œì•ˆ: ë©”ëª¨ë¦¬ ê¸°ë°˜ ìµœì  ë°°ì¹˜ í¬ê¸°
  
  for (let i = 0; i < customers.length; i += batchSize) {
    const batch = customers.slice(i, i + batchSize);
    const batchResults = [];
    
    // ë°°ì¹˜ë³„ ë³‘ë ¬ ì²˜ë¦¬ë¡œ ì„±ëŠ¥ ìµœì í™”
    await Promise.all(batch.map(async (customer) => {
      try {
        const resources = await fetchResourcesPaginated(customer.id);
        const metrics = calculateMetricsLazy(resources);
        
        batchResults.push({
          customer: { id: customer.id, name: customer.name }, // í•„ìˆ˜ ë°ì´í„°ë§Œ
          resourceCount: resources.length,
          metrics,
          reportUrl: generateReportAsync(customer.id) // ì§€ì—° ìƒì„±
        });
      } catch (error) {
        console.error(\`Customer \${customer.id} ì²˜ë¦¬ ì‹¤íŒ¨:\`, error);
      }
    }));
    
    yield batchResults; // ë°°ì¹˜ë³„ ê²°ê³¼ ë°˜í™˜
    
    // AI ì œì•ˆ: ë©”ëª¨ë¦¬ ì •ë¦¬
    if (global.gc) global.gc();
  }
};`}
            </div>
          </div>
        </div>

        <div className="mt-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700 rounded p-3">
          <h6 className="font-semibold text-blue-800 dark:text-blue-200 mb-1">ğŸ¤– AI ë¶„ì„ ê²°ê³¼</h6>
          <div className="text-sm text-blue-800 dark:text-blue-200 space-y-1">
            <div><strong>ë¬¸ì œ:</strong> ëŒ€ìš©ëŸ‰ ë°ì´í„° ì¼ê´„ ë©”ëª¨ë¦¬ ë¡œë“œë¡œ ì¸í•œ OOM</div>
            <div><strong>í•´ê²°ì±…:</strong> Generator + ë°°ì¹˜ ì²˜ë¦¬ + ì§€ì—° í‰ê°€</div>
            <div><strong>ì˜ˆìƒ íš¨ê³¼:</strong> ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ 90% ê°ì†Œ, ì²˜ë¦¬ ì†ë„ 35% í–¥ìƒ</div>
            <div><strong>ë¦¬ìŠ¤í¬:</strong> ë‚®ìŒ (ê¸°ì¡´ API í˜¸í™˜ì„± ìœ ì§€)</div>
          </div>
        </div>
      </div>

      <h3>ìë™ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ìƒì„±</h3>
      <div className="space-y-4">
        <div className="bg-purple-50 dark:bg-purple-900/20 border-l-4 border-purple-500 p-4">
          <h4 className="font-semibold">ğŸ§ª AI ê¸°ë°˜ ë””ë²„ê¹… í…ŒìŠ¤íŠ¸</h4>
          
          <div className="bg-gray-900 text-gray-100 rounded p-4 text-sm font-mono overflow-x-auto">
            <div className="text-green-400">// AI ìƒì„±: ì˜¤ë¥˜ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤</div>
            <div className="text-white mt-2">{`// AIê°€ ë¶„ì„í•œ ì˜¤ë¥˜ íŒ¨í„´ì„ ë°”íƒ•ìœ¼ë¡œ ìƒì„±í•œ í…ŒìŠ¤íŠ¸
import { render, screen, waitFor } from '@testing-library/react';
import { CustomerDashboard } from '../CustomerDashboard';

describe('CustomerDashboard ë©”ëª¨ë¦¬ ì˜¤ë¥˜ ì‹œë‚˜ë¦¬ì˜¤', () => {
  // AI ì œì•ˆ: ë©”ëª¨ë¦¬ ì••ë°• ìƒí™© ì‹œë®¬ë ˆì´ì…˜
  test('ëŒ€ìš©ëŸ‰ ê³ ê° ë°ì´í„° ì²˜ë¦¬ ì‹œ ë©”ëª¨ë¦¬ ì˜¤ë¥˜ ë°©ì§€', async () => {
    // ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§ ì‹œì‘
    const initialMemory = process.memoryUsage().heapUsed;
    
    // AIê°€ ì‹ë³„í•œ ë¬¸ì œ ìƒí™©: 1000+ ê³ ê° ë°ì´í„°
    const largeCustomerSet = generateMockCustomers(1500);
    
    render(<CustomerDashboard customers={largeCustomerSet} />);
    
    // ë Œë”ë§ ì™„ë£Œ ëŒ€ê¸°
    await waitFor(() => {
      expect(screen.getByText('ê³ ê° ëª©ë¡')).toBeInTheDocument();
    });
    
    // AI ì œì•ˆ: ë©”ëª¨ë¦¬ ì¦ê°€ëŸ‰ ê²€ì¦
    const finalMemory = process.memoryUsage().heapUsed;
    const memoryIncrease = finalMemory - initialMemory;
    const maxAcceptableIncrease = 50 * 1024 * 1024; // 50MB
    
    expect(memoryIncrease).toBeLessThan(maxAcceptableIncrease);
  });

  // AI ìƒì„±: ì—ëŸ¬ ë°”ìš´ë”ë¦¬ í…ŒìŠ¤íŠ¸
  test('ê³ ê° ë°ì´í„° ë¡œë”© ì‹¤íŒ¨ ì‹œ ì•ˆì „í•œ í´ë°±', async () => {
    const mockError = new Error('Customer API ì‘ë‹µ ì‹¤íŒ¨');
    const errorSpy = jest.spyOn(console, 'error').mockImplementation();
    
    // API ì‹¤íŒ¨ ì‹œë®¬ë ˆì´ì…˜
    jest.spyOn(customerApi, 'fetchCustomers').mockRejectedValue(mockError);
    
    render(<CustomerDashboard />);
    
    // AI ì œì•ˆ: ì—ëŸ¬ ìƒíƒœ í™•ì¸
    await waitFor(() => {
      expect(screen.getByText(/ë°ì´í„° ë¡œë”© ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤/)).toBeInTheDocument();
    });
    
    // ì¬ì‹œë„ ë²„íŠ¼ ì¡´ì¬ í™•ì¸
    expect(screen.getByRole('button', { name: 'ì¬ì‹œë„' })).toBeInTheDocument();
    
    errorSpy.mockRestore();
  });

  // AI ë¶„ì„: ì„±ëŠ¥ íšŒê·€ ë°©ì§€ í…ŒìŠ¤íŠ¸
  test('ì„±ëŠ¥ ì„ê³„ê°’ ì´ˆê³¼ ë°©ì§€', async () => {
    const performanceStart = performance.now();
    
    const customers = generateMockCustomers(500);
    render(<CustomerDashboard customers={customers} />);
    
    await waitFor(() => {
      expect(screen.getAllByRole('row')).toHaveLength(501); // í—¤ë” í¬í•¨
    });
    
    const performanceEnd = performance.now();
    const renderTime = performanceEnd - performanceStart;
    
    // AI ê¸°ì¤€: ë Œë”ë§ ì‹œê°„ 2ì´ˆ ì´ë‚´
    expect(renderTime).toBeLessThan(2000);
  });
});

// AI ìƒì„±: ìë™ íšŒê·€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
export const generateRegressionTests = (errorHistory: ErrorPattern[]) => {
  return errorHistory.map(error => ({
    testName: \`Regression: \${error.category} - \${error.description}\`,
    testCode: \`
      test('${error.description} ì¬ë°œ ë°©ì§€', async () => {
        // ì˜¤ë¥˜ ë°œìƒ ì¡°ê±´ ì¬í˜„
        \${generateErrorCondition(error)}
        
        // ìˆ˜ì • ì‚¬í•­ ì ìš© í›„ ë™ì¼ ì˜¤ë¥˜ ë°œìƒí•˜ì§€ ì•ŠìŒì„ í™•ì¸
        await expect(\${generateErrorTrigger(error)}).resolves.not.toThrow();
      });
    \`
  }));
};`}</div>
          </div>
        </div>

        <div className="bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500 p-4">
          <h4 className="font-semibold">ğŸ¯ AI í…ŒìŠ¤íŠ¸ ì „ëµ</h4>
          
          <div className="text-sm space-y-2">
            <div><strong>ê²½ê³„ê°’ í…ŒìŠ¤íŠ¸:</strong> AIê°€ ì‹ë³„í•œ í•œê³„ ì¡°ê±´ë“¤ì„ ìë™ í…ŒìŠ¤íŠ¸</div>
            <div><strong>ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸:</strong> ì‹œìŠ¤í…œ í•œê³„ ìƒí™©ì—ì„œì˜ ë™ì‘ ê²€ì¦</div>
            <div><strong>íšŒê·€ í…ŒìŠ¤íŠ¸:</strong> ê³¼ê±° ì˜¤ë¥˜ íŒ¨í„´ì˜ ì¬ë°œ ë°©ì§€ ê²€ì¦</div>
            <div><strong>í†µí•© í…ŒìŠ¤íŠ¸:</strong> AI ë¶„ì„ìœ¼ë¡œ ë°œê²¬ëœ ì»´í¬ë„ŒíŠ¸ ê°„ ìƒí˜¸ì‘ìš© ì´ìŠˆ</div>
          </div>
        </div>
      </div>

      <h2>ğŸ“Š ì‹¤ì‹œê°„ ë””ë²„ê¹… ëŒ€ì‹œë³´ë“œ</h2>

      <h3>AI ê¸°ë°˜ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ</h3>
      <div className="bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 p-6">
        <h4 className="font-semibold mb-3">ğŸ–¥ï¸ í†µí•© ë””ë²„ê¹… ì¸í„°í˜ì´ìŠ¤</h4>
        
        <div className="bg-gray-900 text-gray-100 rounded p-4 text-sm font-mono overflow-x-auto">
          <div className="text-green-400">// AI ê¸°ë°˜ ì‹¤ì‹œê°„ ë””ë²„ê¹… ëŒ€ì‹œë³´ë“œ</div>
          <div className="text-white mt-2">{`import React, { useState, useEffect } from 'react';
import { AIDebugAnalyzer } from './ai-debug-analyzer';

export const AIDebuggingDashboard = () => {
  const [issues, setIssues] = useState<DebugIssue[]>([]);
  const [analyzer] = useState(() => new AIDebugAnalyzer());
  const [autoFix, setAutoFix] = useState(false);

  useEffect(() => {
    // AI ë¶„ì„ê¸° ì´ˆê¸°í™” ë° ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ì‹œì‘
    analyzer.onIssueDetected = (issue) => {
      setIssues(prev => [...prev, issue]);
      
      // AI ìë™ ìˆ˜ì • ê¸°ëŠ¥
      if (autoFix && issue.confidence > 0.8 && issue.autoFixAvailable) {
        analyzer.applyAutoFix(issue);
      }
    };

    analyzer.startRealTimeMonitoring();
    return () => analyzer.stopMonitoring();
  }, [analyzer, autoFix]);

  const handleManualAnalysis = async (logData: string) => {
    const analysis = await analyzer.analyzeLogData(logData);
    setIssues(prev => [...prev, ...analysis.detectedIssues]);
  };

  return (
    <div className="ai-debugging-dashboard">
      <header className="dashboard-header">
        <h1>ğŸ¤– AI ë””ë²„ê¹… ì„¼í„°</h1>
        <div className="controls">
          <label>
            <input
              type="checkbox"
              checked={autoFix}
              onChange={(e) => setAutoFix(e.target.checked)}
            />
            AI ìë™ ìˆ˜ì • í™œì„±í™”
          </label>
        </div>
      </header>

      {/* ì‹¤ì‹œê°„ ì´ìŠˆ ëª¨ë‹ˆí„°ë§ */}
      <section className="real-time-issues">
        <h2>ğŸ” ì‹¤ì‹œê°„ ì´ìŠˆ íƒì§€</h2>
        <div className="issue-grid">
          {issues.map(issue => (
            <IssueCard 
              key={issue.id} 
              issue={issue} 
              onApplyFix={(fix) => analyzer.applyFix(issue.id, fix)}
            />
          ))}
        </div>
      </section>

      {/* AI ë¶„ì„ ê²°ê³¼ */}
      <section className="ai-insights">
        <h2>ğŸ’¡ AI ì¸ì‚¬ì´íŠ¸</h2>
        <AIInsightPanel analyzer={analyzer} />
      </section>

      {/* ìˆ˜ë™ ë¡œê·¸ ë¶„ì„ */}
      <section className="manual-analysis">
        <h2>ğŸ“ ë¡œê·¸ ë¶„ì„</h2>
        <LogAnalysisPanel onAnalyze={handleManualAnalysis} />
      </section>
    </div>
  );
};

// ê°œë³„ ì´ìŠˆ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
const IssueCard = ({ issue, onApplyFix }) => {
  const getSeverityColor = (severity) => {
    const colors = {
      CRITICAL: 'bg-red-500',
      HIGH: 'bg-orange-500', 
      MEDIUM: 'bg-yellow-500',
      LOW: 'bg-blue-500'
    };
    return colors[severity] || 'bg-gray-500';
  };

  return (
    <div className="issue-card border rounded-lg p-4 mb-4">
      <div className="flex justify-between items-start mb-2">
        <h3 className="font-semibold">{issue.title}</h3>
        <span className={\`px-2 py-1 rounded text-white text-xs \${getSeverityColor(issue.severity)}\`}>
          {issue.severity}
        </span>
      </div>
      
      <p className="text-gray-600 text-sm mb-3">{issue.description}</p>
      
      <div className="ai-analysis bg-gray-50 p-3 rounded mb-3">
        <h4 className="font-medium text-sm mb-1">ğŸ¤– AI ë¶„ì„</h4>
        <p className="text-xs">{issue.aiAnalysis}</p>
        <div className="mt-2 text-xs">
          <span>ì‹ ë¢°ë„: {(issue.confidence * 100).toFixed(1)}%</span>
          <span className="ml-4">ì˜ˆìƒ í•´ê²°ì‹œê°„: {issue.estimatedFixTime}</span>
        </div>
      </div>

      {issue.suggestedFixes && issue.suggestedFixes.length > 0 && (
        <div className="suggested-fixes">
          <h4 className="font-medium text-sm mb-2">ğŸ”§ ì œì•ˆëœ ìˆ˜ì •ì‚¬í•­</h4>
          {issue.suggestedFixes.map((fix, idx) => (
            <div key={idx} className="fix-option border-l-2 border-blue-500 pl-3 mb-2">
              <div className="flex justify-between items-center">
                <span className="text-sm">{fix.description}</span>
                <button
                  onClick={() => onApplyFix(fix)}
                  className="px-3 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600"
                >
                  ì ìš©
                </button>
              </div>
              {fix.code && (
                <pre className="text-xs bg-gray-800 text-green-400 p-2 rounded mt-1 overflow-x-auto">
                  {fix.code}
                </pre>
              )}
            </div>
          ))}
        </div>
      )}

      <div className="issue-meta text-xs text-gray-500 mt-3 pt-3 border-t">
        <div>ë°œìƒ ì‹œê°„: {new Date(issue.timestamp).toLocaleString()}</div>
        <div>ì˜í–¥ ë²”ìœ„: {issue.affectedComponents.join(', ')}</div>
        <div>ì¬í˜„ìœ¨: {issue.frequency}%</div>
      </div>
    </div>
  );
};`}</div>
        </div>
      </div>

      <h2>ğŸ¯ MSP íŠ¹í™” ë””ë²„ê¹…</h2>

      <h3>ë‹¤ì¤‘ ê³ ê°ì‚¬ í™˜ê²½ ë””ë²„ê¹…</h3>
      <div className="bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500 p-6">
        <h4 className="font-semibold mb-3">ğŸ¢ ë² ìŠ¤í•€ê¸€ë¡œë²Œ MSP ë””ë²„ê¹… ì „ëµ</h4>
        
        <p className="text-sm text-gray-700 dark:text-gray-300 mb-4">
          MSP í™˜ê²½ì—ì„œëŠ” ê³ ê°ì‚¬ë³„ë¡œ ë‹¤ë¥¸ ì„¤ì •ê³¼ ì›Œí¬ë¡œë“œë¥¼ ê°€ì§€ë¯€ë¡œ, 
          AIë¥¼ í™œìš©í•œ ì»¨í…ìŠ¤íŠ¸ ì¸ì‹ ë””ë²„ê¹…ì´ í•„ìˆ˜ì ì…ë‹ˆë‹¤.
        </p>

        <div className="space-y-4">
          <div className="bg-white dark:bg-gray-900 p-4 rounded border">
            <h6 className="font-semibold text-green-600 dark:text-green-400 mb-2">ê³ ê°ë³„ ì»¨í…ìŠ¤íŠ¸ ë¶„ì„</h6>
            <div className="bg-gray-100 dark:bg-gray-800 p-3 rounded text-xs font-mono">
              {`// AI ê¸°ë°˜ ê³ ê°ë³„ ë””ë²„ê¹… ì»¨í…ìŠ¤íŠ¸
class MSPDebugContext {
  analyzeCustomerEnvironment(customerId: string) {
    return {
      infrastructure: this.getInfrastructureProfile(customerId),
      workloadPattern: this.analyzeWorkloadPattern(customerId),
      complianceRequirements: this.getComplianceRequirements(customerId),
      historicalIssues: this.getPastIssues(customerId),
      customConfigurations: this.getCustomConfigs(customerId)
    };
  }

  // AI ì œì•ˆ: ê³ ê°ë³„ ë§ì¶¤í˜• ë””ë²„ê¹… ì „ëµ
  generateDebuggingStrategy(context: CustomerContext) {
    const strategy = {
      priority: this.calculatePriority(context),
      approach: this.selectOptimalApproach(context),
      constraints: this.identifyConstraints(context),
      tools: this.recommendTools(context)
    };
    
    return strategy;
  }
}`}
            </div>
          </div>

          <div className="bg-white dark:bg-gray-900 p-4 rounded border">
            <h6 className="font-semibold text-blue-600 dark:text-blue-400 mb-2">ë©€í‹° í…Œë„ŒíŠ¸ ì´ìŠˆ ê²©ë¦¬</h6>
            <div className="bg-gray-100 dark:bg-gray-800 p-3 rounded text-xs font-mono">
              {`// AI ìƒì„±: í…Œë„ŒíŠ¸ ê°„ ì˜í–¥ ë¶„ì„
const analyzeCrossCustomerImpact = async (issueId: string) => {
  const analysis = await aiAnalyzer.analyzeCrossImpact({
    issue: issueId,
    scope: 'multi-tenant',
    isolationLevel: 'customer'
  });

  return {
    affectedCustomers: analysis.impactRadius,
    rootCauseScope: analysis.scope, // 'single-tenant' | 'multi-tenant' | 'platform'
    isolationStrategy: analysis.recommendedIsolation,
    rollbackPlan: analysis.safestRollback
  };
};`}
            </div>
          </div>
        </div>
      </div>

      <h2>ğŸ“ˆ ì„±ê³¼ ì¸¡ì •</h2>

      <h3>AI ë””ë²„ê¹… íš¨ê³¼ ë¶„ì„</h3>
      <div className="bg-gray-50 dark:bg-gray-800 rounded-lg p-6">
        <h4 className="font-semibold mb-4">ğŸ“Š ë² ìŠ¤í•€ê¸€ë¡œë²Œ AI ë””ë²„ê¹… ì„±ê³¼</h4>
        
        <div className="grid md:grid-cols-4 gap-4 text-center mb-6">
          <div>
            <div className="text-3xl font-bold text-green-600 dark:text-green-400">78%</div>
            <p className="text-sm text-gray-600 dark:text-gray-400">í‰ê·  í•´ê²°ì‹œê°„ ë‹¨ì¶•</p>
          </div>
          <div>
            <div className="text-3xl font-bold text-blue-600 dark:text-blue-400">92%</div>
            <p className="text-sm text-gray-600 dark:text-gray-400">ì²« ë²ˆì§¸ ì‹œë„ í•´ê²°ë¥ </p>
          </div>
          <div>
            <div className="text-3xl font-bold text-purple-600 dark:text-purple-400">85%</div>
            <p className="text-sm text-gray-600 dark:text-gray-400">ì˜ˆì¸¡ì  ë¬¸ì œ ë°©ì§€</p>
          </div>
          <div>
            <div className="text-3xl font-bold text-orange-600 dark:text-orange-400">67%</div>
            <p className="text-sm text-gray-600 dark:text-gray-400">ìˆ˜ë™ ë¶„ì„ ì‹œê°„ ì ˆì•½</p>
          </div>
        </div>

        <div className="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded p-4">
          <h6 className="font-semibold mb-2">ğŸ¯ ì£¼ìš” ì„±ê³¼ ì§€í‘œ</h6>
          <div className="text-sm space-y-1">
            <div>â€¢ <strong>MTTR (í‰ê·  ë³µêµ¬ ì‹œê°„):</strong> 4.2ì‹œê°„ â†’ 0.9ì‹œê°„</div>
            <div>â€¢ <strong>False Positive Rate:</strong> 15% â†’ 3%</div>
            <div>â€¢ <strong>ê³ ê° ë§Œì¡±ë„:</strong> 87% â†’ 96%</div>
            <div>â€¢ <strong>ìš´ì˜ ë¹„ìš© ì ˆê°:</strong> ì—°ê°„ $2.3M ì ˆì•½</div>
          </div>
        </div>
      </div>

      <h3>ì§€ì†ì  í•™ìŠµ ì²´ê³„</h3>
      <div className="bg-orange-50 dark:bg-orange-900/20 border-l-4 border-orange-500 p-6">
        <h4 className="font-semibold mb-3">ğŸ§  AI ëª¨ë¸ ê°œì„  í”„ë¡œì„¸ìŠ¤</h4>
        
        <div className="text-sm space-y-3">
          <div>
            <strong>í”¼ë“œë°± ë£¨í”„:</strong> ê°œë°œìì˜ ìˆ˜ì • ê²°ê³¼ë¥¼ AI ëª¨ë¸ í•™ìŠµì— ë°˜ì˜
          </div>
          <div>
            <strong>íŒ¨í„´ ì—…ë°ì´íŠ¸:</strong> ìƒˆë¡œìš´ ì˜¤ë¥˜ ìœ í˜•ê³¼ í•´ê²°ì±…ì„ ì§€ì†ì ìœ¼ë¡œ í•™ìŠµ
          </div>
          <div>
            <strong>ì •í™•ë„ í–¥ìƒ:</strong> ì›”ë³„ ëª¨ë¸ ì„±ëŠ¥ í‰ê°€ ë° ì¬í›ˆë ¨
          </div>
          <div>
            <strong>ë„ë©”ì¸ íŠ¹í™”:</strong> MSP í™˜ê²½ì˜ íŠ¹ìˆ˜í•œ íŒ¨í„´ë“¤ì„ ì „ë¬¸í™”
          </div>
        </div>
      </div>

      <div className="bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-6 my-8">
        <h4 className="font-semibold mb-2">ğŸš€ AI ë””ë²„ê¹…ì˜ ë¯¸ë˜</h4>
        <p className="text-sm">
          AI ê¸°ë°˜ ë””ë²„ê¹…ì€ ë‹¨ìˆœí•œ ë¬¸ì œ í•´ê²°ì„ ë„˜ì–´ì„œ <strong>ì˜ˆì¸¡ì  ìœ ì§€ë³´ìˆ˜</strong>ë¡œ ì§„í™”í•˜ê³  ìˆìŠµë‹ˆë‹¤. 
          ì‹œìŠ¤í…œì´ ìŠ¤ìŠ¤ë¡œ ë¬¸ì œë¥¼ ê°ì§€í•˜ê³  í•´ê²°í•˜ë©°, 
          ê°œë°œìëŠ” ë” ì°½ì˜ì ì´ê³  ì „ëµì ì¸ ì—…ë¬´ì— ì§‘ì¤‘í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤. 
          ë² ìŠ¤í•€ê¸€ë¡œë²Œì—ì„œëŠ” ì´ëŸ¬í•œ AI ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ 
          <strong>ê³ ê°ì‚¬ì—ê²Œ ë”ìš± ì•ˆì •ì ì´ê³  íš¨ìœ¨ì ì¸ ì„œë¹„ìŠ¤</strong>ë¥¼ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.
        </p>
      </div>

      <h2>ğŸ¯ ë‹¤ìŒ í•™ìŠµ</h2>
      
      <p>
        AI ë””ë²„ê¹… ì „ë¬¸ ê¸°ë²•ì„ ìŠµë“í–ˆë‹¤ë©´, <strong>8.4 íŒ€ ì›Œí¬í”Œë¡œ ìµœì í™”</strong>ì—ì„œ 
        AI ë„êµ¬ë¥¼ í™œìš©í•œ íš¨ìœ¨ì ì¸ íŒ€ í˜‘ì—…ê³¼ ê°œë°œ í”„ë¡œì„¸ìŠ¤ ìµœì í™” ë°©ë²•ì„ í•™ìŠµí•˜ê² ìŠµë‹ˆë‹¤.
      </p>

      <div className="flex gap-4 mt-8">
        <a 
          href="/part8/team-workflow/"
          className="inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
        >
          ë‹¤ìŒ: íŒ€ ì›Œí¬í”Œë¡œ ìµœì í™” â†’
        </a>
        <a 
          href="/part8/react-optimization/"
          className="inline-flex items-center px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"
        >
          â† ì´ì „: React ìµœì í™”
        </a>
      </div>
    </div>
  )
}